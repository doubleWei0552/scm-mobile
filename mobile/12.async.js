(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{"8d3Q":function(e,t,a){"use strict";var l=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d=l(a("43Yg")),n=l(a("/tCh")),u=l(a("scpF")),r=l(a("O/V9")),i=l(a("8aBX")),o=l(a("uqIC")),s=a("Q+Wa"),f=function(e){function t(){var e;return(0,d.default)(this,t),e=(0,u.default)(this,(0,r.default)(t).call(this)),e.componentDidMount=function(){e.mapPlugins=["ToolBar"],e.markerPosition={longitude:e.props.longitude,latitude:e.props.latitude}},e.toolEvents={created:function(t){e.tool=t}},e}return(0,i.default)(t,e),(0,n.default)(t,[{key:"render",value:function(){return o.default.createElement(s.Map,{plugins:this.mapPlugins,zoom:90},o.default.createElement(s.Marker,{position:this.markerPosition}))}}]),t}(o.default.Component);t.default=f},KYDX:function(e,t,a){"use strict";var l=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("+JSM");var d=l(a("uDdG"));a("au98");var n=l(a("PAPO")),u=l(a("zAuD"));a("9VH2");var r=l(a("tahc"));a("tXdJ");var i=l(a("vWMa"));a("Bm7G");var o,s,f,c=l(a("uUMF")),p=l(a("43Yg")),m=l(a("/tCh")),h=l(a("scpF")),y=l(a("O/V9")),E=l(a("8aBX")),g=l(a("uqIC")),k=a("o/P3"),v=l(a("86W3")),C=a("LneV"),I=l(a("8d3Q")),w=l(a("wNKb")),T=(o=(0,C.connect)(function(e){var t=e.task;return{task:t}}),o((f=function(e){function t(e){var a;return(0,p.default)(this,t),a=(0,h.default)(this,(0,y.default)(t).call(this,e)),a.componentDidMount=function(){a.getTaskData()},a.getTaskData=function(){var e=a.props,t=e.dispatch,l=e.match,d=w.default.get(l,"params.orderId");t({type:"task/getTaskDetails",payload:{Id:d}}),a.setState({taskId:d})},a.ToAudited=function(){a.props.dispatch({type:"task/updataStatus",payload:{Id:a.state.taskId}})},a.CheckIn=function(){v.default.push("/user/service/signIn/".concat(a.state.taskId))},a.renderButton=function(){var e=a.props.task,t=e.taskDetail;e.CUSTOMER,e.CUSTOMERCONTACT;switch(w.default.get(t,"status")){case"draft":return g.default.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},g.default.createElement(c.default,{onClick:a.delete,style:{width:"45%"},type:"warning"},"\u5220\u9664"),g.default.createElement(c.default,{onClick:a.submit,style:{width:"45%"},type:"primary"},"\u63d0\u4ea4"));case"submit":return g.default.createElement("div",null,g.default.createElement(c.default,{onClick:a.ToAudited,type:"primary"},"\u5ba1\u6838"));case"approve":return g.default.createElement("div",null,g.default.createElement(c.default,{onClick:a.CheckIn,type:"primary"},"\u7b7e\u5230"));case"close":return g.default.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},g.default.createElement(c.default,{onClick:a.delete,style:{width:"45%"},type:"warning"},"\u5220\u9664"),g.default.createElement(c.default,{onClick:a.submit,style:{width:"45%"},type:"primary"},"\u63d0\u4ea4"));default:break}},a.submit=function(){a.props.form.validateFields(function(e,t){e||a.props.dispatch({type:"task/getUpdataDetail",payload:{Id:a.state.taskId,DESCRIBE:t.DESCRIBE,VISIT_RECORD:t.VISIT_RECORD}})})},a.delete=function(){a.props.dispatch({type:"task/getdeledetById",payload:{Id:a.state.taskId}})},a.state={taskId:null},a}return(0,E.default)(t,e),(0,m.default)(t,[{key:"render",value:function(){var e=this.props.form.getFieldProps,t=this.props.task,a=t.taskDetail,l=t.CUSTOMER,o=t.CUSTOMERCONTACT,s={longitude:1*w.default.get(a,"longitude"),latitude:1*w.default.get(a,"latitude")};return g.default.createElement("div",{style:{height:"100%"}},g.default.createElement("div",{style:{height:"45px"}},g.default.createElement(r.default,{mode:"dark",icon:g.default.createElement(i.default,{type:"left"}),onLeftClick:function(){return v.default.goBack()}},"\u4efb\u52a1\u8be6\u60c5")),g.default.createElement("div",{style:{paddingLeft:"1rem",height:"calc(100% - 125px)",overflow:"auto"}},g.default.createElement("h2",null,"\u62dc\u8bbf",w.default.get(l,"name")),g.default.createElement("p",{style:{marginBottom:"5px"}},w.default.get(a,"startTime")," - ",w.default.get(a,"endTime")),g.default.createElement("p",{style:{marginBottom:"5px"}},w.default.get(l,"name")),g.default.createElement("p",{style:{marginBottom:"5px"}},w.default.get(o,"contact"),"(",w.default.get(o,"mobilePhone"),")"),g.default.createElement("div",{style:{width:"100%",height:"180px"}},g.default.createElement(I.default,s)),g.default.createElement("p",{style:{margin:"5px 0"}},w.default.get(a,"address")),g.default.createElement(d.default,null,g.default.createElement(n.default,(0,u.default)({},e("DESCRIBE"),{rows:4,placeholder:"\u63cf\u8ff0"})),g.default.createElement("div",{style:{height:"1rem",width:"100%"}}),g.default.createElement(n.default,(0,u.default)({},e("VISIT_RECORD"),{rows:4,placeholder:"\u62dc\u8bbf\u8bb0\u5f55"})))),g.default.createElement("div",{style:{borderTop:"1px solid #e3e3e3",padding:"1rem",position:"absolute",bottom:0,width:"100%",height:"80px"}},this.renderButton()))}}]),t}(g.default.Component),s=f))||s),D=(0,k.createForm)()(T),b=D;t.default=b}}]);