(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{"8d3Q":function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d=l(a("2Taf")),n=l(a("vZ4D")),u=l(a("l4Ni")),r=l(a("ujKo")),i=l(a("MhPg")),o=l(a("q1tI")),s=a("7DBZ"),f=function(e){function t(){var e;return(0,d.default)(this,t),e=(0,u.default)(this,(0,r.default)(t).call(this)),e.componentDidMount=function(){e.mapPlugins=["ToolBar"],e.markerPosition={longitude:e.props.longitude,latitude:e.props.latitude}},e.toolEvents={created:function(t){e.tool=t}},e}return(0,i.default)(t,e),(0,n.default)(t,[{key:"render",value:function(){return o.default.createElement(s.Map,{plugins:this.mapPlugins,zoom:90},o.default.createElement(s.Marker,{position:this.markerPosition}))}}]),t}(o.default.Component);t.default=f},KYDX:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("e3Tq");var d=l(a("n+tp"));a("XCdk");var n=l(a("b+ud")),u=l(a("jehZ"));a("1Cgs");var r=l(a("zvbH"));a("D2jH");var i=l(a("2ROE"));a("XGli");var o,s,f,c=l(a("NHyu")),p=l(a("2Taf")),m=l(a("vZ4D")),h=l(a("l4Ni")),g=l(a("ujKo")),y=l(a("MhPg")),E=l(a("q1tI")),k=a("47e7"),v=l(a("usdK")),C=a("MuoO"),I=l(a("8d3Q")),T=l(a("LvDl")),w=(o=(0,C.connect)(function(e){var t=e.task;return{task:t}}),o((f=function(e){function t(e){var a;return(0,p.default)(this,t),a=(0,h.default)(this,(0,g.default)(t).call(this,e)),a.componentDidMount=function(){a.getTaskData()},a.getTaskData=function(){var e=a.props,t=e.dispatch,l=e.match,d=T.default.get(l,"params.orderId");t({type:"task/getTaskDetails",payload:{Id:d}}),a.setState({taskId:d})},a.ToAudited=function(){a.props.dispatch({type:"task/updataStatus",payload:{Id:a.state.taskId}})},a.CheckIn=function(){v.default.push("/user/service/signIn/".concat(a.state.taskId))},a.renderButton=function(){var e=a.props.task,t=e.taskDetail;e.CUSTOMER,e.CUSTOMERCONTACT;switch(T.default.get(t,"status")){case"draft":return E.default.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},E.default.createElement(c.default,{onClick:a.delete,style:{width:"45%"},type:"warning"},"\u5220\u9664"),E.default.createElement(c.default,{onClick:a.submit,style:{width:"45%"},type:"primary"},"\u63d0\u4ea4"));case"submit":return E.default.createElement("div",null,E.default.createElement(c.default,{onClick:a.ToAudited,type:"primary"},"\u5ba1\u6838"));case"approve":return E.default.createElement("div",null,E.default.createElement(c.default,{onClick:a.CheckIn,type:"primary"},"\u7b7e\u5230"));case"close":return E.default.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},E.default.createElement(c.default,{onClick:a.delete,style:{width:"45%"},type:"warning"},"\u5220\u9664"),E.default.createElement(c.default,{onClick:a.submit,style:{width:"45%"},type:"primary"},"\u63d0\u4ea4"));default:break}},a.submit=function(){a.props.form.validateFields(function(e,t){e||a.props.dispatch({type:"task/getUpdataDetail",payload:{Id:a.state.taskId,DESCRIBE:t.DESCRIBE,VISIT_RECORD:t.VISIT_RECORD}})})},a.delete=function(){a.props.dispatch({type:"task/getdeledetById",payload:{Id:a.state.taskId}})},a.state={taskId:null},a}return(0,y.default)(t,e),(0,m.default)(t,[{key:"render",value:function(){var e=this.props.form.getFieldProps,t=this.props.task,a=t.taskDetail,l=t.CUSTOMER,o=t.CUSTOMERCONTACT,s={longitude:1*T.default.get(a,"longitude"),latitude:1*T.default.get(a,"latitude")};return E.default.createElement("div",{style:{height:"100%"}},E.default.createElement("div",{style:{height:"45px"}},E.default.createElement(r.default,{mode:"dark",icon:E.default.createElement(i.default,{type:"left"}),onLeftClick:function(){return v.default.goBack()}},"\u4efb\u52a1\u8be6\u60c5")),E.default.createElement("div",{style:{paddingLeft:"1rem",height:"calc(100% - 125px)",overflow:"auto"}},E.default.createElement("h2",null,"\u62dc\u8bbf",T.default.get(l,"name")),E.default.createElement("p",{style:{marginBottom:"5px"}},T.default.get(a,"startTime")," - ",T.default.get(a,"endTime")),E.default.createElement("p",{style:{marginBottom:"5px"}},T.default.get(l,"name")),E.default.createElement("p",{style:{marginBottom:"5px"}},T.default.get(o,"contact"),"(",T.default.get(o,"mobilePhone"),")"),E.default.createElement("div",{style:{width:"100%",height:"180px"}},E.default.createElement(I.default,s)),E.default.createElement("p",{style:{margin:"5px 0"}},T.default.get(a,"address")),E.default.createElement(d.default,null,E.default.createElement(n.default,(0,u.default)({},e("DESCRIBE"),{rows:4,placeholder:"\u63cf\u8ff0"})),E.default.createElement("div",{style:{height:"1rem",width:"100%"}}),E.default.createElement(n.default,(0,u.default)({},e("VISIT_RECORD"),{rows:4,placeholder:"\u62dc\u8bbf\u8bb0\u5f55"})))),E.default.createElement("div",{style:{borderTop:"1px solid #e3e3e3",padding:"1rem",position:"fixed",bottom:0,width:"100%",height:"80px"}},this.renderButton()))}}]),t}(E.default.Component),s=f))||s),D=(0,k.createForm)()(w),b=D;t.default=b}}]);