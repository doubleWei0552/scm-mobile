(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"0gnc":function(e,t,a){e.exports={customerselectPage:"customerselectPage___Yiqj0"}},YOrb:function(e,t,a){"use strict";var o=a("mZ4U"),l=a("fbTi");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("hj0C");var r=o(a("Lg+D"));a("qkQH");var s=o(a("L84T"));a("9VH2");var n=o(a("tahc")),u=o(a("43Yg")),c=o(a("/tCh")),i=o(a("scpF")),d=o(a("O/V9")),f=o(a("8aBX"));a("VJPB");var m=o(a("UW99"));a("+JSM");var p,h,g,v,y=o(a("uDdG")),I=l(a("uqIC")),C=a("LneV"),S=(o(a("MApF")),o(a("wNKb"))),b=(o(a("jCnN")),o(a("86W3"))),w=o(a("0gnc")),k=(y.default.Item,p=m.default.create(),h=(0,C.connect)(function(e){var t=e.user,a=e.loading;return{user:t,loading:a.models.user}}),p(g=h((v=function(e){function t(e){var a;return(0,u.default)(this,t),a=(0,i.default)(this,(0,d.default)(t).call(this,e)),a.queryCurrent=function(e){var t=a.props,o=t.dispatch,l=t.user;l.wechatinfo;o({type:"user/queryCurrent",payload:{userId:e},callback:function(e){"success"===e.status&&a.setState({userInfo:e.data,visible:!1})}})},a.selectCustomer=function(e){a.setState({customerId:e[0]})},a.fnUrlReplace=function(e){if(console.log("href",e),e&&!1===/^#|javasc/.test(e))if(console.log("history",e.split("#")[0]),history.replaceState){var t=e.split("#")[0]+"#"+e.split("#")[1]+"#";history.replaceState(null,document.title,t),location.replace(e)}else location.replace(e)},a.confirmSelect=function(){console.log("ssss",location);var e=a.state.customerId;localStorage.setItem("customerId",e),b.default.push("/homepage")},a.state={userInfo:{},customerId:""},a}return(0,f.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("userId");console.log("userId",e),this.queryCurrent(e)}},{key:"render",value:function(){var e=this,t=(JSON.parse(localStorage.getItem("userData")),this.state),a=t.userInfo,o=t.customerId,l=a.customerUserList,u=void 0===l?[]:l;this.props.form.getFieldProps;return S.default.map(u,function(e){e.label=e.NAME,e.value=e.ID}),console.log("userInfo",a),I.default.createElement("div",{className:w.default.customerselectPage,style:{height:"100%",position:"relative"}},I.default.createElement("div",null,I.default.createElement(n.default,{mode:"dark"},"\u9009\u62e9\u5ba2\u6237")),I.default.createElement("div",{style:{marginTop:50}},I.default.createElement(s.default,{data:u,value:[o],cascade:!1,onChange:function(t){return e.selectCustomer(t)}})),I.default.createElement("div",{style:{height:45,marginBottom:0,display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",bottom:50,width:"100%"}},I.default.createElement(r.default,{onClick:this.confirmSelect,style:{width:"85%",height:40,fontSize:"16px"},type:"primary"},"\u786e\u8ba4\u9009\u62e9")))}}]),t}(I.Component),g=v))||g)||g);t.default=k}}]);