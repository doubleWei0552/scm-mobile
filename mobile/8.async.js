(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{ATf1:function(e,t,a){"use strict";var l=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("jNok");var u=l(a("xxVW"));a("XGli");var r=l(a("NHyu"));a("vtiR");var d=l(a("psX6"));a("Dkba");var o=l(a("UYM3"));a("ufv1");var c=l(a("QYgq"));a("XCdk");var s=l(a("b+ud"));a("vWQn");var i=l(a("1vAp"));a("5aHp");var f=l(a("dzEL"));a("1Cgs");var m=l(a("zvbH"));a("D2jH");var h=l(a("2ROE")),v=l(a("2Taf")),p=l(a("vZ4D")),E=l(a("l4Ni")),C=l(a("ujKo")),A=l(a("MhPg"));a("e3Tq");var D,g,T,I,k=l(a("n+tp")),y=n(a("q1tI")),N=(l(a("i8i4")),l(a("Rv62")),l(a("l48j")),a("MuoO")),O=a("47e7"),w=l(a("eKsz")),S=k.default.Item,b=(D=(0,O.createForm)(),g=(0,N.connect)(function(e){var t=e.user,a=e.loading;return{user:t,loading:a.models.user}}),D(T=g((I=function(e){function t(e){var a;return(0,v.default)(this,t),a=(0,E.default)(this,(0,C.default)(t).call(this,e)),a.componentDidMount=function(){var e=localStorage.getItem("userId");a.queryCurrent(e)},a.queryCurrent=function(e){var t=a.props.dispatch;t({type:"user/queryCurrent",payload:{userId:e},callback:function(e){if("success"===e.status){var t=e.data.customerUserList;a.setState({userInfo:e.data,visible:!1,customerUserList:t})}}})},a.goBack=function(){window.history.back()},a.handleItemChange=function(e,t){var l=a.props.dispatch;a.state.postData[t]=e,"ORGANIZATION_ID"===t&&l({type:"serviceAdd/queryCustomer",payload:{Id:e},callback:function(e){if("success"===e.status){var t=e.data.CUSTOMER_CONTACT,l=void 0===t?[]:t;a.setState({customerContact:l})}}}),a.setState({})},a.handleSwitch=function(e){a.setState({checked:e})},a.handleChangeData=function(e,t){var l=a.state.checked;console.log("data",e.valueOf()),l?(a.state.postData["START_DATE"]=e.valueOf(),a.state.postData["END_DATE"]=e.valueOf()):a.state.postData[t]=e.valueOf(),a.state[t]=e,a.setState({})},a.handleAdd=function(){var e=a.props.dispatch,t=a.state.postData;e({type:"serviceAdd/serviceAdd",payload:t})},a.state={customerUserList:[],postData:{},date:null,customerContact:[],checked:!1,START_DATE:null,END_DATE:null},a}return(0,A.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=this;console.log("ssss",this.state);var t=this.state,a=t.customerUserList,l=t.customerContact,n=t.checked,v=t.START_DATE,p=t.END_DATE,E=t.postData,C=this.props.form;C.getFieldProps,C.getFieldError;_.map(a,function(e){e.label=e.NAME,e.value=e.ID}),_.map(l,function(e){e.label="".concat(e.CONTACT,"(").concat(e.MOBILE_PHONE,")"),e.value=e.ID});return y.default.createElement(u.default,{locale:"undefined"},y.default.createElement("div",{className:w.default.serviceAdd},y.default.createElement("div",null,y.default.createElement(m.default,{mode:"dark",icon:y.default.createElement(h.default,{type:"left",size:"lg"}),onLeftClick:this.goBack,rightContent:[]},"\u65b0\u4efb\u52a1")),y.default.createElement("div",null,y.default.createElement(k.default,null,y.default.createElement(f.default,{clear:!0,onChange:function(t){return e.handleItemChange(t,"SUBJECT")}},"\u6807\u9898"),y.default.createElement(i.default,{value:[E.ORGANIZATION_ID],data:a,cols:1,onOk:function(t){return e.handleItemChange(t[0],"ORGANIZATION_ID")},className:"forss"},y.default.createElement(k.default.Item,{arrow:"horizontal"},"\u516c\u53f8")),y.default.createElement(i.default,{value:[E.CONTACT_ID],data:l,cols:1,onOk:function(t){return e.handleItemChange(t[0],"CONTACT_ID")},className:"forss"},y.default.createElement(k.default.Item,{arrow:"horizontal"},"\u8054\u7cfb\u4eba")),y.default.createElement(s.default,{title:"\u5730\u5740",autoHeight:!0,onChange:function(t){return e.handleItemChange(t,"ADDRESS")}})),y.default.createElement(c.default,{size:"lg"}),y.default.createElement(k.default,null,y.default.createElement(S,{extra:y.default.createElement(o.default,{checked:n,onChange:function(t){return e.handleSwitch(t)}})},"\u5168\u5929"),y.default.createElement(d.default,{value:v,title:"\u5f00\u59cb\u65f6\u95f4",onChange:function(t){return e.handleChangeData(t,"START_DATE")},mode:n?"date":"datetime"},y.default.createElement(k.default.Item,{arrow:"horizontal"},"\u5f00\u59cb\u65f6\u95f4")),y.default.createElement(d.default,{value:p,onChange:function(t){return e.handleChangeData(t,"END_DATE")},mode:n?"date":"datetime",title:"\u7ed3\u675f\u65f6\u95f4"},y.default.createElement(k.default.Item,{arrow:"horizontal"},"\u7ed3\u675f\u65f6\u95f4"))),y.default.createElement(c.default,{size:"lg"}),y.default.createElement(k.default,null,y.default.createElement(s.default,{placeholder:"\u63cf\u8ff0...",rows:5,count:100}))),y.default.createElement("div",{style:{display:"flex",position:"absolute",bottom:16,width:"100%",justifyContent:"space-around"}},y.default.createElement(r.default,{onClick:this.goBack,style:{width:"45%"},type:"warning"},"\u53d6\u6d88"),y.default.createElement(r.default,{onClick:this.handleAdd,style:{width:"45%"},type:"primary"},"\u4fdd\u5b58"))))}}]),t}(y.Component),T=I))||T)||T);t.default=b},eKsz:function(e,t,a){e.exports={serviceAdd:"serviceAdd___ZVVmQ"}}}]);