(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{ATf1:function(e,t,a){"use strict";var l=a("mZ4U"),n=a("fbTi");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("nFG6");var u=l(a("SrAy"));a("Bm7G");var r=l(a("uUMF"));a("mKHy");var d=l(a("TVHA"));a("dyE5");var o=l(a("9dHm"));a("FdQn");var c=l(a("7yMw"));a("au98");var s=l(a("PAPO"));a("caz+");var f=l(a("w6jm"));a("qPrD");var i=l(a("aqTm"));a("9VH2");var m=l(a("tahc"));a("tXdJ");var h=l(a("vWMa")),v=l(a("43Yg")),E=l(a("/tCh")),p=l(a("scpF")),C=l(a("O/V9")),A=l(a("8aBX"));a("+JSM");var D,T,g,I,y=l(a("uDdG")),O=n(a("uqIC")),w=(l(a("jCnN")),l(a("RIPb")),l(a("vXyq")),a("LneV")),k=a("o/P3"),N=l(a("eKsz")),S=y.default.Item,b=(D=(0,k.createForm)(),T=(0,w.connect)(function(e){var t=e.user,a=e.loading;return{user:t,loading:a.models.user}}),D(g=T((I=function(e){function t(e){var a;return(0,v.default)(this,t),a=(0,p.default)(this,(0,C.default)(t).call(this,e)),a.componentDidMount=function(){var e=localStorage.getItem("userId");a.queryCurrent(e)},a.queryCurrent=function(e){var t=a.props.dispatch;t({type:"user/queryCurrent",payload:{userId:e},callback:function(e){if("success"===e.status){var t=e.data.customerUserList;a.setState({userInfo:e.data,visible:!1,customerUserList:t})}}})},a.goBack=function(){window.history.back()},a.handleItemChange=function(e,t){var l=a.props.dispatch;a.state.postData[t]=e,"ORGANIZATION_ID"===t&&l({type:"serviceAdd/queryCustomer",payload:{Id:e},callback:function(e){if("success"===e.status){var t=e.data.CUSTOMER_CONTACT,l=void 0===t?[]:t;a.setState({customerContact:l})}}}),a.setState({})},a.handleSwitch=function(e){a.setState({checked:e})},a.handleChangeData=function(e,t){var l=a.state.checked;console.log("data",e.valueOf()),l?(a.state.postData["START_DATE"]=e.valueOf(),a.state.postData["END_DATE"]=e.valueOf()):a.state.postData[t]=e.valueOf(),a.state[t]=e,a.setState({})},a.handleAdd=function(){var e=a.props.dispatch,t=a.state.postData;e({type:"serviceAdd/serviceAdd",payload:t})},a.state={customerUserList:[],postData:{},date:null,customerContact:[],checked:!1,START_DATE:null,END_DATE:null},a}return(0,A.default)(t,e),(0,E.default)(t,[{key:"render",value:function(){var e=this;console.log("ssss",this.state);var t=this.state,a=t.customerUserList,l=t.customerContact,n=t.checked,v=t.START_DATE,E=t.END_DATE,p=t.postData,C=this.props.form;C.getFieldProps,C.getFieldError;_.map(a,function(e){e.label=e.NAME,e.value=e.ID}),_.map(l,function(e){e.label="".concat(e.CONTACT,"(").concat(e.MOBILE_PHONE,")"),e.value=e.ID});return O.default.createElement(u.default,{locale:"undefined"},O.default.createElement("div",{className:N.default.serviceAdd},O.default.createElement("div",null,O.default.createElement(m.default,{mode:"dark",icon:O.default.createElement(h.default,{type:"left",size:"lg"}),onLeftClick:this.goBack,rightContent:[]},"\u65b0\u4efb\u52a1")),O.default.createElement("div",null,O.default.createElement(y.default,null,O.default.createElement(i.default,{clear:!0,onChange:function(t){return e.handleItemChange(t,"SUBJECT")}},"\u6807\u9898"),O.default.createElement(f.default,{value:[p.ORGANIZATION_ID],data:a,cols:1,onOk:function(t){return e.handleItemChange(t[0],"ORGANIZATION_ID")},className:"forss"},O.default.createElement(y.default.Item,{arrow:"horizontal"},"\u516c\u53f8")),O.default.createElement(f.default,{value:[p.CONTACT_ID],data:l,cols:1,onOk:function(t){return e.handleItemChange(t[0],"CONTACT_ID")},className:"forss"},O.default.createElement(y.default.Item,{arrow:"horizontal"},"\u8054\u7cfb\u4eba")),O.default.createElement(s.default,{title:"\u5730\u5740",autoHeight:!0,onChange:function(t){return e.handleItemChange(t,"ADDRESS")}})),O.default.createElement(c.default,{size:"lg"}),O.default.createElement(y.default,null,O.default.createElement(S,{extra:O.default.createElement(o.default,{checked:n,onChange:function(t){return e.handleSwitch(t)}})},"\u5168\u5929"),O.default.createElement(d.default,{value:v,title:"\u5f00\u59cb\u65f6\u95f4",onChange:function(t){return e.handleChangeData(t,"START_DATE")},mode:n?"date":"datetime"},O.default.createElement(y.default.Item,{arrow:"horizontal"},"\u5f00\u59cb\u65f6\u95f4")),O.default.createElement(d.default,{value:E,onChange:function(t){return e.handleChangeData(t,"END_DATE")},mode:n?"date":"datetime",title:"\u7ed3\u675f\u65f6\u95f4"},O.default.createElement(y.default.Item,{arrow:"horizontal"},"\u7ed3\u675f\u65f6\u95f4"))),O.default.createElement(c.default,{size:"lg"}),O.default.createElement(y.default,null,O.default.createElement(s.default,{placeholder:"\u63cf\u8ff0...",rows:5,count:100}))),O.default.createElement("div",{style:{display:"flex",position:"absolute",bottom:16,width:"100%",justifyContent:"space-around"}},O.default.createElement(r.default,{onClick:this.goBack,style:{width:"45%"},type:"warning"},"\u53d6\u6d88"),O.default.createElement(r.default,{onClick:this.handleAdd,style:{width:"45%"},type:"primary"},"\u4fdd\u5b58"))))}}]),t}(O.Component),g=I))||g)||g);t.default=b},eKsz:function(e,t,a){e.exports={serviceAdd:"serviceAdd___ZVVmQ"}}}]);